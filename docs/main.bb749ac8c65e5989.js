"use strict";(self.webpackChunkHomeDashboard=self.webpackChunkHomeDashboard||[]).push([["main"],{5684:(l,m,s)=>{var u=s(1481),p=s(2435),i=s(433),t=s(4650),b=s(1135),f=s(3385),h=s(7550);let g=(()=>{var e;class o{constructor(n,r,c,d){this.afAuth=n,this.afs=r,this.ngZone=c,this.router=d,this.userData=new b.X(null),localStorage.getItem("user")&&this.userData.next(JSON.parse(localStorage.getItem("user"))),this.afAuth.authState.subscribe(w=>{w?(this.userData.next(w),localStorage.setItem("user",JSON.stringify(this.userData.value)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}get isLoggedIn(){return null!==JSON.parse(localStorage.getItem("user"))}setUserData(n){return this.afs.doc(`users/${n.uid}`).set({uid:n.uid,email:n.email,displayName:n.displayName,photoURL:n.photoURL,emailVerified:n.emailVerified},{merge:!0})}signIn(n,r){return this.afAuth.signInWithEmailAndPassword(n,r).then(c=>{this.setUserData(c.user),this.afAuth.authState.subscribe(d=>{d&&this.router.navigate(["dashboard"])})}).catch(c=>{console.error(c.message)})}signOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.userData.next(null),this.router.navigate(["login"])})}forgotPassword(n){return this.afAuth.sendPasswordResetEmail(n).then(()=>{console.log("Password reset Mail sent")}).catch(r=>{console.error(r.message)})}}return(e=o).\u0275fac=function(n){return new(n||e)(t.LFG(f.zQ),t.LFG(h.ST),t.LFG(t.R0b),t.LFG(p.F0))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),o})(),M=(()=>{var e;class o{constructor(n,r){this.router=n,this.authService=r,this.authService.isLoggedIn&&this.router.navigate(["/dashboard"])}ngOnInit(){this.loginForm=new i.cw({email:new i.NI("",i.kI.required),password:new i.NI("",i.kI.required)})}login(){this.loginForm?.valid&&(console.log("Trying to log in..."),this.authService.signIn(this.loginForm.value.email,this.loginForm.value.password))}}return(e=o).\u0275fac=function(n){return new(n||e)(t.Y36(p.F0),t.Y36(g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:14,vars:1,consts:[[1,"login-wrapper",3,"formGroup"],["for","input_email"],["id","input_email","placeholder","EMail","formControlName","email","type","text",1,"email"],["for","input_password"],["id","input_password","placeholder","Passwort","formControlName","password","type","password",1,"password"],["routerLink","/forgot-password"],[1,"login-button",3,"click"]],template:function(n,r){1&n&&(t.TgZ(0,"form",0)(1,"h1"),t._uU(2,"Login"),t.qZA(),t.TgZ(3,"label",1),t._uU(4,"Email"),t.qZA(),t._UZ(5,"input",2),t.TgZ(6,"label",3),t._uU(7,"Passwort"),t.qZA(),t._UZ(8,"input",4),t.TgZ(9,"a",5),t._uU(10,"Passwort vergessen?"),t.qZA(),t._UZ(11,"hr"),t.TgZ(12,"button",6),t.NdJ("click",function(){return r.login()}),t._uU(13,"Login"),t.qZA()()),2&n&&t.Q6J("formGroup",r.loginForm)},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,p.rH],styles:["[_nghost-%COMP%]{position:absolute;top:0;left:0;bottom:0;width:100%;display:flex;justify-content:center;align-items:center}.login-wrapper[_ngcontent-%COMP%]{background-color:var(--clr-primary);border-radius:8px;box-shadow:0 0 10px #00000080;min-width:300px;max-width:500px;max-height:800px;padding:18px;display:flex;flex-direction:column;flex-wrap:wrap}.login-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;border-radius:8px;font-size:16px}.login-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:4px}.login-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:4px;margin-bottom:16px;margin-left:auto}.login-wrapper[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%}.login-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px;background-color:var(--clr-accent);border:none;border-radius:4px;color:#000;font-size:16px;font-family:roboto}.login-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),o})();var _=s(6895);function P(e,o){if(1&e){const a=t.EpF();t.ynx(0),t.TgZ(1,"p"),t._uU(2,"Nur freigegebene EMail-Adressen sind m\xf6glich."),t.qZA(),t.TgZ(3,"label",3),t._uU(4,"EMail"),t.qZA(),t._UZ(5,"input",4)(6,"hr"),t.TgZ(7,"button",5),t.NdJ("click",function(){t.CHM(a);const r=t.oxw();return t.KtG(r.send())}),t._uU(8,"EMail senden"),t.qZA(),t.BQk()}if(2&e){const a=t.oxw();t.xp6(5),t.Q6J("formControl",a.email)}}function O(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"Die EMail wurde versendet. "),t._UZ(2,"br"),t._uU(3," Bitte schau in deinem Postfach nach!"),t.qZA())}let y=(()=>{var e;class o{constructor(n){this.authService=n,this.emailSent=!1,this.email=new i.NI("",{validators:[i.kI.required,i.kI.email]})}send(){this.email.valid&&(this.authService.forgotPassword(this.email.value),this.emailSent=!0)}}return(e=o).\u0275fac=function(n){return new(n||e)(t.Y36(g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-forgot-password"]],decls:6,vars:2,consts:[[1,"forgot-password-wrapper"],[4,"ngIf","ngIfElse"],["sentelse",""],["for","input_email"],["id","input_email","placeholder","EMail","type","text",1,"email",3,"formControl"],[1,"send-button",3,"click"]],template:function(n,r){if(1&n&&(t.TgZ(0,"div",0)(1,"h1"),t._uU(2,"Passwort zur\xfccksetzen"),t.qZA(),t.YNc(3,P,9,1,"ng-container",1),t.YNc(4,O,4,0,"ng-template",null,2,t.W1O),t.qZA()),2&n){const c=t.MAs(5);t.xp6(3),t.Q6J("ngIf",!r.emailSent)("ngIfElse",c)}},dependencies:[_.O5,i.Fj,i.JJ,i.oH],styles:["[_nghost-%COMP%]{position:absolute;top:0;left:0;bottom:0;width:100%;display:flex;justify-content:center;align-items:center}.forgot-password-wrapper[_ngcontent-%COMP%]{background-color:var(--clr-primary);border-radius:8px;box-shadow:0 0 10px #00000080;min-width:400px;max-width:500px;max-height:800px;padding:18px;display:flex;flex-direction:column;flex-wrap:wrap}.forgot-password-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px;border-radius:8px;font-size:16px}.forgot-password-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:4px}.forgot-password-wrapper[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{width:100%}.forgot-password-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px;background-color:var(--clr-accent);border:none;border-radius:4px;color:#000;font-size:16px;font-family:roboto}.forgot-password-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{text-decoration:underline}"]}),o})(),A=(()=>{var e;class o{}return(e=o).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(n,r){1&n&&(t.TgZ(0,"p"),t._uU(1,"dashboard works!"),t.qZA())}}),o})(),v=(()=>{var e;class o{constructor(n,r){this.authService=n,this.router=r}canActivate(n,r){return this.authService.isLoggedIn||this.router.navigate([""]),!0}}return(e=o).\u0275fac=function(n){return new(n||e)(t.LFG(g),t.LFG(p.F0))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),o})();const Z=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:M},{path:"forgot-password",component:y},{path:"dashboard",component:A,canActivate:[v]},{path:"list",component:(()=>{var e;class o{}return(e=o).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list"]],decls:2,vars:0,template:function(n,r){1&n&&(t.TgZ(0,"p"),t._uU(1,"list works!"),t.qZA())}}),o})(),canActivate:[v]}];let I=(()=>{var e;class o{}return(e=o).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[p.Bz.forRoot(Z),p.Bz]}),o})();var x=s(2687),C=s(2216);function S(e,o){1&e&&(t.TgZ(0,"span",8),t._uU(1,"Login"),t.qZA())}function T(e,o){1&e&&(t.TgZ(0,"span",8),t._uU(1,"Logout"),t.qZA())}let F=(()=>{var e;class o{constructor(n,r){this.authService=n,this.router=r,this.faHouse=x.wp6,this.faUser=x.ILF}userAction(){this.authService.isLoggedIn?this.authService.signOut():this.router.navigate(["/login"])}}return(e=o).\u0275fac=function(n){return new(n||e)(t.Y36(g),t.Y36(p.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-navigation"]],decls:21,vars:4,consts:[[1,"home"],["size","xl",3,"icon"],["routerLink","/dashboard"],[1,"right-menu"],["routerLink","list"],[1,"user--wrapper",3,"click"],["size","lg",1,"user--icon",3,"icon"],["class","user--logout",4,"ngIf"],[1,"user--logout"]],template:function(n,r){1&n&&(t.TgZ(0,"nav")(1,"ul")(2,"li",0),t._UZ(3,"fa-icon",1),t.TgZ(4,"a",2),t._uU(5,"Dashboard"),t.qZA()()(),t.TgZ(6,"div",3)(7,"ul")(8,"li")(9,"a",4),t._uU(10,"Einkauf"),t.qZA()(),t.TgZ(11,"li")(12,"a"),t._uU(13,"Rezepte"),t.qZA()(),t.TgZ(14,"li")(15,"a"),t._uU(16,"Kategorien"),t.qZA()()(),t.TgZ(17,"div",5),t.NdJ("click",function(){return r.userAction()}),t._UZ(18,"fa-icon",6),t.YNc(19,S,2,0,"span",7),t.YNc(20,T,2,0,"span",7),t.qZA()()()),2&n&&(t.xp6(3),t.Q6J("icon",r.faHouse),t.xp6(15),t.Q6J("icon",r.faUser),t.xp6(1),t.Q6J("ngIf",!r.authService.isLoggedIn),t.xp6(1),t.Q6J("ngIf",r.authService.isLoggedIn))},dependencies:[_.O5,p.rH,C.BN],styles:["nav[_ngcontent-%COMP%]{background-color:var(--clr-background);height:80px;width:100%;padding:16px;display:flex;justify-content:flex-start;align-items:center;box-sizing:border-box}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;gap:32px}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:var(--clr-text);font-size:16px;cursor:pointer;text-align:center;display:flex;flex-direction:row;align-items:center}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.home[_ngcontent-%COMP%]{font-size:18px}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{text-decoration:underline}nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{margin-right:8px}nav[_ngcontent-%COMP%]   .right-menu[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:16px;margin-left:auto}nav[_ngcontent-%COMP%]   .user--wrapper[_ngcontent-%COMP%]{cursor:pointer;width:48px;height:48px;border-radius:50%;background-color:var(--clr-primary);color:var(--clr-text);position:relative;overflow:hidden;margin-left:48px;display:flex;align-items:center;--anim-time: .5s;transition:width var(--anim-time),border-radius var(--anim-time),margin-left var(--anim-time)}nav[_ngcontent-%COMP%]   .user--wrapper[_ngcontent-%COMP%]   .user--logout[_ngcontent-%COMP%]{opacity:0;font-size:14px;word-wrap:break-word;position:absolute;left:40px;transition:opacity var(--anim-time)}nav[_ngcontent-%COMP%]   .user--wrapper[_ngcontent-%COMP%]   .user--icon[_ngcontent-%COMP%]{position:absolute;left:15px}nav[_ngcontent-%COMP%]   .user--wrapper[_ngcontent-%COMP%]:hover{border-radius:8px;width:96px;margin-left:0}nav[_ngcontent-%COMP%]   .user--wrapper[_ngcontent-%COMP%]:hover   .user--logout[_ngcontent-%COMP%]{opacity:1}"]}),o})(),U=(()=>{var e;class o{constructor(){this.button_id="test_id",this.title="HomeDashboard"}}return(e=o).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-root"]],decls:4,vars:0,template:function(n,r){1&n&&(t.TgZ(0,"header"),t._UZ(1,"app-navigation"),t.qZA(),t.TgZ(2,"main"),t._UZ(3,"router-outlet"),t.qZA())},dependencies:[p.lC,F],styles:["[_nghost-%COMP%]{margin:0 15%;display:flex;flex-direction:column;min-height:100vh}main[_ngcontent-%COMP%]{flex:1;padding:1rem;position:relative;background:var(--clr-background);color:var(--clr-text)}footer[_ngcontent-%COMP%]{background-color:#333;color:#fff;text-align:center;padding:1rem}"]}),o})();const L_firebase={apiKey:"AIzaSyAXv3iGcMyBib0qJB_cSrCp4sE3IoE_O84",authDomain:"homedashboard-forster.firebaseapp.com",projectId:"homedashboard-forster",storageBucket:"homedashboard-forster.appspot.com",messagingSenderId:"897903658846",appId:"1:897903658846:web:998ea40cbbfa0f7fe5f1cf",measurementId:"G-8JJHB4B5MS"};var k=s(2011),N=s(1345),J=s(2228);let z=(()=>{var e;class o{}return(e=o).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e,bootstrap:[U]}),e.\u0275inj=t.cJS({providers:[g],imports:[u.b2,i.u5,i.UX,I,k.hO.initializeApp(L_firebase),f.ww,h.yb,N.TE,J.Qv,C.uH]}),o})();u.q6().bootstrapModule(z).catch(e=>console.error(e))}},l=>{l.O(0,["vendor"],()=>l(l.s=5684)),l.O()}]);